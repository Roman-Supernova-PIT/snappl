<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Image &#8212; roman_snpit_snappl 0.1.dev1+gfae61f144 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=5a6b8c39" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=f3bc516d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <script src="../_static/documentation_options.js?v=42978c01"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Numpy2DImage" href="snappl.image.Numpy2DImage.html" />
    <link rel="prev" title="ImageCollectionDB" href="snappl.imagecollection.ImageCollectionDB.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo_black_filled.png" alt="Logo" />
    
  </a>
</p>



<p class="blurb">Software developed by the Roman SNPIT</p>






<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Change Log</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">snappl API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database_schema.html">Database Schema</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">snappl API</a><ul>
      <li>Previous: <a href="snappl.imagecollection.ImageCollectionDB.html" title="previous chapter">ImageCollectionDB</a></li>
      <li>Next: <a href="snappl.image.Numpy2DImage.html" title="next chapter">Numpy2DImage</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="snappl.imagecollection.ImageCollectionDB.html" title="Previous document">ImageCollectionDB</a>
        </li>
        <li>
          <a href="snappl.image.Numpy2DImage.html" title="Next document">Numpy2DImage</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="image">
<h1>Image<a class="headerlink" href="#image" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="snappl.image.Image">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">snappl.image.</span></span><span class="sig-name descname"><span class="pre">Image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">provenance_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pointing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sca</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_corner_00</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_corner_01</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_corner_10</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra_corner_11</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_corner_00</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_corner_01</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_corner_10</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_corner_11</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mjd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exptime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sky_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeropoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_superclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PathedObject</span></code></p>
<p>Encapsulates a single 2d image.</p>
<p>Properties inclue the following.  Some of these properties may not
be defined for some subclasses of Image.</p>
<p>If possible, avoid using all “path” properties, and instead use the
other properties to get access to image data.  Note that “noisepath”
and “flagspath” are not defined for all Image subclasses, and will
only be defined sometimes for some subclasses (depending on how data
is stored).</p>
<ul>
<li><dl>
<dt>filepath<span class="classifier">pathlib.Path ; path <em>relative to the base path</em> of the image file. This may just</span></dt><dd><p>have the image data itself, or it may be a <em>base</em> filepath, or it
may have everything, depending on the subclass.
If you can avoid using this property, do so.  Use .data, etc, instead.</p>
</dd>
</dl>
</li>
<li><p>filename : string ; just the name part of filepath (so if filepath is Path(“/foo/bar”), name is “bar”)</p></li>
<li><p>full_filepath : pathlib.Path ; absolute path to file on system.  (Same as base_path / filepath.)</p></li>
<li><p>base_path : base path for images; usually will be Config value system.paths.images</p></li>
<li><p>base_dir : synonym for base_path</p></li>
<li><dl class="simple">
<dt>path<span class="classifier">pathlib.Path; absolute path to the image on disk, sort of, in a complicatd way.</span></dt><dd><p>HERE FOR BACKWARDS COMPATIBILITY ONLY</p>
</dd>
</dl>
</li>
<li><p>name : str; synonym for filename.  HERE FOR BACKWARDS COMPATIBILITY ONLY.</p></li>
<li><p>pointing : int (str?); a unique identifier of the exposure associated with the image</p></li>
<li><p>WARNING, this property name will probably change once we fighre out the</p></li>
<li><p>right thing from the roman datamodel we want to use</p></li>
<li><p>sca : int (str?); the SCA of this image</p></li>
<li><p>ra: float; the nominal RA at the center of the image in decimal degrees, usu. from the header</p></li>
<li><p>dec: float; the nominal RA at the center of the image in decimal degrees, usu. from the header</p></li>
<li><p>ra_corner_00: float; decimal degrees, ra of pixel (0, 0)</p></li>
<li><p>ra_corner_10: float; decimal degrees, ra of pixel (width-1, 0)</p></li>
<li><p>ra_corner_01: float; decimal degrees, ra of pixel (0, height)</p></li>
<li><p>ra_corner_11: float; decimal degrees, ra of pixel (width-1, height-1)</p></li>
<li><p>dec_corner_00: float; decimal degrees, dec of pixel (0, 0)</p></li>
<li><p>dec_corner_10: float; decimal degrees, dec of pixel (width-1, 0)</p></li>
<li><p>dec_corner_01: float; decimal degrees, dec of pixel (0, height)</p></li>
<li><p>dec_corner_11: float; decimal degrees, dec of pixel (width-1, height-1)</p></li>
<li><p>band : str; filter</p></li>
<li><p>mjd : float; mjd of the start of the image</p></li>
<li><p>position_angle : float; position angle in degrees north of east (CHECK THIS)</p></li>
<li><p>exptime : float; exposure time in seconds</p></li>
<li><p>sky_level : float; an estimate of the sky level (in ADU) if known, None otherwise</p></li>
<li><p>zeropoint : float; convert to AB mag with -2.5*log(adu) + zeropoint, where adu is the units of data</p></li>
<li><p>width : the width (xorizontal size as viewed on ds9) of the image in pixels</p></li>
<li><p>height : the height (y/vertical size as viewed on ds9) of the image in pixels</p></li>
<li><p>image_shape : tuple (height, width) of ints; the image size</p></li>
<li><p>coord_center : tuple of (ra, dec) [I THINK] : center of the image calculated from the WCS</p></li>
<li><p>data : 2d numpy array; the data of this image</p></li>
<li><p>noise : 2d numpy array; a 1σ noise image (if defined)</p></li>
<li><p>flags : 2d numpy array of ints; a pixel flags image (if defined)</p></li>
</ul>
<p>IMPORTANT NOTE: because of how numpy arrays are indexed, if you want to get
value of the pixel at (ix, iy), you would do image.data[iy, ix].</p>
<p>For all implementations, the properties data, noise, and flags are
lazy-loaded.  That is, they start empty, but when you access them,
an internal buffer gets loaded with that data.  This means it can be
very easy for lots of memory to get used without your realizing it.
There are a couple of solutions.  The first, is to call Image.free()
when you’re sure you don’t need the data any more, or if you know
you want to get rid of it for a while and re-read it from disk
later.  The second is just not to access the data, noise, and flags
properties, instead use Image.get_data(), and manage the data object
lifetime yourself.</p>
<p>Instantiate an image.  You probably don’t want to do that.</p>
<p>This is an abstract base class that has limited functionality.
You probably want to instantiate a subclass if you’re creating a
new image.</p>
<p>If you’re trying to pull an image out of the database, then
probably what you really want is to use the Image.get_image or
Image.find_images class methods.</p>
<p>If you’re working with non-database images and are trying to get
a pre-existing image, then probably what you really want to do
is call the get_image() method of an ImageCollection object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>Path</em><em>, </em><em>default None</em>) – Path of the image relative to the base path for images,
unless less no_base_path is True, in which case this is the
full absolute path to the image.  For datbase images, you do
not want to create a path yourself, but leave it at None and
let the class create the filepath.  See PathedObject.</p></li>
<li><p><strong>full_filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>Path</em><em>, </em><em>default None</em>) – The full path to the image.  If you’re using an Image subclass
to deal with an image that’s not in the database, you probably
want to set this to the absolute path of the image, and you
probably want to set no_base_path to True, but you might also
set base_path yourself and leave no_base_path at False.</p></li>
<li><p><strong>base_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>Path</em><em>, </em><em>default None</em>) – Always leave this at None for images associated with
database, and the default will be used.  Otherwise, the
absolute path of the image is base_path / filepath (which
should be exactly the same as full_filepath).  Must be None
if no_base_path is True.</p></li>
<li><p><strong>base_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>Path</em><em>, </em><em>default None</em>) – Synonym for base_path</p></li>
<li><p><strong>no_base_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – For images associated with the database, leave this at
False, and make filepath relative to the base path (which
may be system dependent).  For images that aren’t associated
with the database, you can make this True and set filepath
to be just the path to the image.</p></li>
<li><p><strong>id</strong> (<em>UUID</em><em> or </em><em>str that can be converted to UUID</em><em>, </em><em>default None</em>) – Database ID of the image.  This is only relevant if the
image is in the l2image table of the Roman SNPIT internal
database (but is required in that case).</p></li>
<li><p><strong>provenance_id</strong> (<em>UUID</em><em> or </em><em>str that can be converted to UUID</em><em>, </em><em>default NOne</em>) – The id of the provenance of the image.  Only relevant if the
image is in the l2image table of the Roman SNPIT internal
database (but is required in that case).</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default None</em>) – The width and height of the image in pixels if known.</p></li>
<li><p><strong>height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default None</em>) – The width and height of the image in pixels if known.</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default -1</em>) – Index into the table Image._format_def at the bottom of this file.</p></li>
<li><p><strong>pointing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> (</em><em>str?</em><em>)</em><em>, </em><em>default None</em><em> (</em><em>WARNING: this parameter keyword will change</em><em>)</em>)</p></li>
<li><p><strong>sca</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default None</em>)</p></li>
<li><p><strong>ra</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>)</p></li>
<li><p><strong>dec</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>)</p></li>
<li><p><strong>(</strong><strong>ra</strong><strong>|</strong><strong>dec</strong><strong>)</strong><strong>_corner_</strong><strong>(</strong><strong>00</strong><strong>|</strong><strong>01</strong><strong>|</strong><strong>10</strong><strong>|</strong><strong>11</strong><strong>)</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>)</p></li>
<li><p><strong>band</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default None</em>)</p></li>
<li><p><strong>mjd</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>)</p></li>
<li><p><strong>position_angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>)</p></li>
<li><p><strong>exptime</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>)</p></li>
<li><p><strong>sky_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>)</p></li>
<li><p><strong>zeropoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – All of these are the values that should be set for these
properties (see Image class docstring).  If they are None,
how they get populated depends on the image subclass.  In
many cases, they will be lazy-loaded from the header.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Attributes Summary</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.band" title="snappl.image.Image.band"><code class="xref py py-obj docutils literal notranslate"><span class="pre">band</span></code></a></p></td>
<td><p>Band (str)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.coord_center" title="snappl.image.Image.coord_center"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coord_center</span></code></a></p></td>
<td><p>[RA, DEC] (both floats) in degrees at the center of the image</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.data" title="snappl.image.Image.data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code></a></p></td>
<td><p>The image data, a 2d numpy array.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.data_array_list" title="snappl.image.Image.data_array_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data_array_list</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.dec" title="snappl.image.Image.dec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dec</span></code></a></p></td>
<td><p>Float; decimal degrees; nominal dec of the image (probably from the header)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.dec_corner_00" title="snappl.image.Image.dec_corner_00"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dec_corner_00</span></code></a></p></td>
<td><p>Float; decimal degrees; the dec of pixel (x=0, y=0)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.dec_corner_01" title="snappl.image.Image.dec_corner_01"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dec_corner_01</span></code></a></p></td>
<td><p>Float; decimal degrees; the dec of pixel (x=0, y=height-1)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.dec_corner_10" title="snappl.image.Image.dec_corner_10"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dec_corner_10</span></code></a></p></td>
<td><p>Float; decimal degrees; the dec of pixel (x=width-1, y=0)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.dec_corner_11" title="snappl.image.Image.dec_corner_11"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dec_corner_11</span></code></a></p></td>
<td><p>Float; decimal degrees; the dec of pixel (x=width-1, y=height-1)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.exptime" title="snappl.image.Image.exptime"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exptime</span></code></a></p></td>
<td><p>Exposure time in seconds.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.flags" title="snappl.image.Image.flags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flags</span></code></a></p></td>
<td><p>An integer 2d numpy array of pixel masks / flags TBD</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.height" title="snappl.image.Image.height"><code class="xref py py-obj docutils literal notranslate"><span class="pre">height</span></code></a></p></td>
<td><p>height (y-size, first index in numpy arrays) of the image</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.id" title="snappl.image.Image.id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">id</span></code></a></p></td>
<td><p>The database image uuid in the l2image table.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.image_shape" title="snappl.image.Image.image_shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">image_shape</span></code></a></p></td>
<td><p>(ny, nx) pixel size of image.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.mjd" title="snappl.image.Image.mjd"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mjd</span></code></a></p></td>
<td><p>MJD of the start of the image (defined how? TAI?)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.name" title="snappl.image.Image.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.noise" title="snappl.image.Image.noise"><code class="xref py py-obj docutils literal notranslate"><span class="pre">noise</span></code></a></p></td>
<td><p>The 1σ pixel noise, a 2d numpy array.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.path" title="snappl.image.Image.path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">path</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.pointing" title="snappl.image.Image.pointing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pointing</span></code></a></p></td>
<td><p>Str or int or something; the exposure/pointing/visit/SOMETHING for the image</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.position_angle" title="snappl.image.Image.position_angle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">position_angle</span></code></a></p></td>
<td><p>Position angle in degrees north of east (CHECK THIS)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.provenance_id" title="snappl.image.Image.provenance_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">provenance_id</span></code></a></p></td>
<td><p>The database provenance uuid of the image in the l2image table.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.ra" title="snappl.image.Image.ra"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ra</span></code></a></p></td>
<td><p>Float; decimal degrees; nominal RA of the image (probably from the header)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.ra_corner_00" title="snappl.image.Image.ra_corner_00"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ra_corner_00</span></code></a></p></td>
<td><p>Float; decimal degrees; tha RA of pixel (x=0, y=0)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.ra_corner_01" title="snappl.image.Image.ra_corner_01"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ra_corner_01</span></code></a></p></td>
<td><p>Float; decimal degrees; the RA of pixel (x=0, y=height-1)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.ra_corner_10" title="snappl.image.Image.ra_corner_10"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ra_corner_10</span></code></a></p></td>
<td><p>Float; decimal degrees; the RA of pixel (x=width-1, height=0)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.ra_corner_11" title="snappl.image.Image.ra_corner_11"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ra_corner_11</span></code></a></p></td>
<td><p>Float; decimal degrees; the RA of pixel (x=width-1, y=height=1)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.sca" title="snappl.image.Image.sca"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sca</span></code></a></p></td>
<td><p>Int; the chip of the image</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.sky_level" title="snappl.image.Image.sky_level"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sky_level</span></code></a></p></td>
<td><p>Estimate of the sky level in ADU.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.width" title="snappl.image.Image.width"><code class="xref py py-obj docutils literal notranslate"><span class="pre">width</span></code></a></p></td>
<td><p>the width (x-size, second index in numpy arrays) of the image</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.zeropoint" title="snappl.image.Image.zeropoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zeropoint</span></code></a></p></td>
<td><p>Image zeropoint for AB magnitudes.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.ap_phot" title="snappl.image.Image.ap_phot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ap_phot</span></code></a>(coords[, ap_r, method, subpixels, ...])</p></td>
<td><p>Do aperture photometry on the image at the specified coordinates.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.find_images" title="snappl.image.Image.find_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_images</span></code></a>([provenance, provenance_tag, ...])</p></td>
<td><p>Search the database for images.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.fraction_masked" title="snappl.image.Image.fraction_masked"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fraction_masked</span></code></a>()</p></td>
<td><p>Fraction of pixels that are masked.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.free" title="snappl.image.Image.free"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free</span></code></a>()</p></td>
<td><p>Try to free memory.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.get_cutout" title="snappl.image.Image.get_cutout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_cutout</span></code></a>(ra, dec, xsize[, ysize, mode, ...])</p></td>
<td><p>Make a cutout of the image at the given RA and DEC.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.get_data" title="snappl.image.Image.get_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_data</span></code></a>([which, always_reload, cache])</p></td>
<td><p>Read the data from disk and return one or more 2d numpy arrays of data.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.get_image" title="snappl.image.Image.get_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_image</span></code></a>(image_id[, dbclient])</p></td>
<td><p>Get an Image from the database based on its image id.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.get_ra_dec_cutout" title="snappl.image.Image.get_ra_dec_cutout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_ra_dec_cutout</span></code></a>(ra, dec, xsize[, ysize, ...])</p></td>
<td><p>Creates a new snappl image object that is a cutout of the original image, at a location in pixel-space.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.get_wcs" title="snappl.image.Image.get_wcs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_wcs</span></code></a>([wcsclass])</p></td>
<td><p>Get image WCS.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.includes_radec" title="snappl.image.Image.includes_radec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">includes_radec</span></code></a>(ra, dec)</p></td>
<td><p>Check to see if (ra, dec)  is included within the image borders.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.psf_phot" title="snappl.image.Image.psf_phot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">psf_phot</span></code></a>(init_params, psf[, forced_phot, ...])</p></td>
<td><p>Do psf photometry.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.image.Image.save" title="snappl.image.Image.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>([which, path, imagepath, noisepath, ...])</p></td>
<td><p>Save the image to its path(s).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.image.Image.save_data" title="snappl.image.Image.save_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_data</span></code></a>([which, path, imagepath, ...])</p></td>
<td><p>Same as save; here for backwards compatibility.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.band">
<span class="sig-name descname"><span class="pre">band</span></span><a class="headerlink" href="#snappl.image.Image.band" title="Link to this definition">¶</a></dt>
<dd><p>Band (str)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.coord_center">
<span class="sig-name descname"><span class="pre">coord_center</span></span><a class="headerlink" href="#snappl.image.Image.coord_center" title="Link to this definition">¶</a></dt>
<dd><p>[RA, DEC] (both floats) in degrees at the center of the image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#snappl.image.Image.data" title="Link to this definition">¶</a></dt>
<dd><p>The image data, a 2d numpy array.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.data_array_list">
<span class="sig-name descname"><span class="pre">data_array_list</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['all',</span> <span class="pre">'data',</span> <span class="pre">'noise',</span> <span class="pre">'flags']</span></span><a class="headerlink" href="#snappl.image.Image.data_array_list" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.dec">
<span class="sig-name descname"><span class="pre">dec</span></span><a class="headerlink" href="#snappl.image.Image.dec" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; nominal dec of the image (probably from the header)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.dec_corner_00">
<span class="sig-name descname"><span class="pre">dec_corner_00</span></span><a class="headerlink" href="#snappl.image.Image.dec_corner_00" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; the dec of pixel (x=0, y=0)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.dec_corner_01">
<span class="sig-name descname"><span class="pre">dec_corner_01</span></span><a class="headerlink" href="#snappl.image.Image.dec_corner_01" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; the dec of pixel (x=0, y=height-1)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.dec_corner_10">
<span class="sig-name descname"><span class="pre">dec_corner_10</span></span><a class="headerlink" href="#snappl.image.Image.dec_corner_10" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; the dec of pixel (x=width-1, y=0)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.dec_corner_11">
<span class="sig-name descname"><span class="pre">dec_corner_11</span></span><a class="headerlink" href="#snappl.image.Image.dec_corner_11" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; the dec of pixel (x=width-1, y=height-1)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.exptime">
<span class="sig-name descname"><span class="pre">exptime</span></span><a class="headerlink" href="#snappl.image.Image.exptime" title="Link to this definition">¶</a></dt>
<dd><p>Exposure time in seconds.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.flags">
<span class="sig-name descname"><span class="pre">flags</span></span><a class="headerlink" href="#snappl.image.Image.flags" title="Link to this definition">¶</a></dt>
<dd><p>An integer 2d numpy array of pixel masks / flags TBD</p>
<p>TODO : think about what we mean by this.  Right now it’s subclass-dependent.  But, for
usage, we need a way of making this more general. Issue #45.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.height">
<span class="sig-name descname"><span class="pre">height</span></span><a class="headerlink" href="#snappl.image.Image.height" title="Link to this definition">¶</a></dt>
<dd><p>height (y-size, first index in numpy arrays) of the image</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#snappl.image.Image.id" title="Link to this definition">¶</a></dt>
<dd><p>The database image uuid in the l2image table.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.image_shape">
<span class="sig-name descname"><span class="pre">image_shape</span></span><a class="headerlink" href="#snappl.image.Image.image_shape" title="Link to this definition">¶</a></dt>
<dd><p>(ny, nx) pixel size of image.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.mjd">
<span class="sig-name descname"><span class="pre">mjd</span></span><a class="headerlink" href="#snappl.image.Image.mjd" title="Link to this definition">¶</a></dt>
<dd><p>MJD of the start of the image (defined how? TAI?)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#snappl.image.Image.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.noise">
<span class="sig-name descname"><span class="pre">noise</span></span><a class="headerlink" href="#snappl.image.Image.noise" title="Link to this definition">¶</a></dt>
<dd><p>The 1σ pixel noise, a 2d numpy array.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.path">
<span class="sig-name descname"><span class="pre">path</span></span><a class="headerlink" href="#snappl.image.Image.path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.pointing">
<span class="sig-name descname"><span class="pre">pointing</span></span><a class="headerlink" href="#snappl.image.Image.pointing" title="Link to this definition">¶</a></dt>
<dd><p>Str or int or something; the exposure/pointing/visit/SOMETHING for the image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.position_angle">
<span class="sig-name descname"><span class="pre">position_angle</span></span><a class="headerlink" href="#snappl.image.Image.position_angle" title="Link to this definition">¶</a></dt>
<dd><p>Position angle in degrees north of east (CHECK THIS)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.provenance_id">
<span class="sig-name descname"><span class="pre">provenance_id</span></span><a class="headerlink" href="#snappl.image.Image.provenance_id" title="Link to this definition">¶</a></dt>
<dd><p>The database provenance uuid of the image in the l2image table.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.ra">
<span class="sig-name descname"><span class="pre">ra</span></span><a class="headerlink" href="#snappl.image.Image.ra" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; nominal RA of the image (probably from the header)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.ra_corner_00">
<span class="sig-name descname"><span class="pre">ra_corner_00</span></span><a class="headerlink" href="#snappl.image.Image.ra_corner_00" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; tha RA of pixel (x=0, y=0)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.ra_corner_01">
<span class="sig-name descname"><span class="pre">ra_corner_01</span></span><a class="headerlink" href="#snappl.image.Image.ra_corner_01" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; the RA of pixel (x=0, y=height-1)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.ra_corner_10">
<span class="sig-name descname"><span class="pre">ra_corner_10</span></span><a class="headerlink" href="#snappl.image.Image.ra_corner_10" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; the RA of pixel (x=width-1, height=0)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.ra_corner_11">
<span class="sig-name descname"><span class="pre">ra_corner_11</span></span><a class="headerlink" href="#snappl.image.Image.ra_corner_11" title="Link to this definition">¶</a></dt>
<dd><p>Float; decimal degrees; the RA of pixel (x=width-1, y=height=1)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.sca">
<span class="sig-name descname"><span class="pre">sca</span></span><a class="headerlink" href="#snappl.image.Image.sca" title="Link to this definition">¶</a></dt>
<dd><p>Int; the chip of the image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.sky_level">
<span class="sig-name descname"><span class="pre">sky_level</span></span><a class="headerlink" href="#snappl.image.Image.sky_level" title="Link to this definition">¶</a></dt>
<dd><p>Estimate of the sky level in ADU.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.width">
<span class="sig-name descname"><span class="pre">width</span></span><a class="headerlink" href="#snappl.image.Image.width" title="Link to this definition">¶</a></dt>
<dd><p>the width (x-size, second index in numpy arrays) of the image</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.image.Image.zeropoint">
<span class="sig-name descname"><span class="pre">zeropoint</span></span><a class="headerlink" href="#snappl.image.Image.zeropoint" title="Link to this definition">¶</a></dt>
<dd><p>Image zeropoint for AB magnitudes.</p>
<p>The zeropoint zp is defined so that an object with total counts
c (in whatever units data is in) has AB magnitude m:</p>
<blockquote>
<div><p>m = -2.5 * log(10) + zp</p>
</div></blockquote>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.ap_phot">
<span class="sig-name descname"><span class="pre">ap_phot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ap_r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'subpixel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subpixels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bgsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">511</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.ap_phot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.ap_phot" title="Link to this definition">¶</a></dt>
<dd><p>Do aperture photometry on the image at the specified coordinates.</p>
<p>Does background subtraction using
photutils.background.Background2D with box size bgsize.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (<em>astropy.table.Table</em>) – Must have (at least) columns ‘x’ and ‘y’ representing
0-origin pixel coordinates. (CHECK THIS)</p></li>
<li><p><strong>ap_r</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default 9</em>) – Aperture radius in pixels</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'subpixel'</em>) – Passed to the “method” parmeter of photutils.photometry.aperture_photometry</p></li>
<li><p><strong>subpixels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 5</em>) – Number of subpixels to use for the ‘subpixel’ method.</p></li>
<li><p><strong>bgsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default 511</em>) – Box size for photutils Background2D background subtraction.
Set to &lt;=0 to not do background subtraction.</p></li>
<li><p><strong>**kwargs</strong> (<em>further arguments are passed directly to photutils.photometry.aperture_photometry</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>results</strong> – Results of photutils.aperture.aperture_photometry</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>astropy.table.Table</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.find_images">
<span class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">find_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provenance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">provenance_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbclient</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.find_images"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.find_images" title="Link to this definition">¶</a></dt>
<dd><p>Search the database for images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>provenance</strong> (<a class="reference internal" href="snappl.provenance.Provenance.html#snappl.provenance.Provenance" title="snappl.provenance.Provenance"><em>Provenance</em></a><em> or </em><em>UUID</em><em>, </em><em>default None</em>) – Either provenance, or both of provenacne_tag and process,
are required.  provenacne is the provenance of images to
search.</p></li>
<li><p><strong>provenance_tag</strong> (<em>string</em><em>, </em><em>default None</em>) – The provenance tag to search.  Required if provenance is
None.</p></li>
<li><p><strong>process</strong> (<em>string</em><em>, </em><em>deafault None</em>) – The process, used with provenance_tag, to find the
provenance.  Required if provenacne_tag is not None.</p></li>
<li><p><strong>dbclient</strong> (<a class="reference internal" href="snappl.dbclient.SNPITDBClient.html#snappl.dbclient.SNPITDBClient" title="snappl.dbclient.SNPITDBClient"><em>SNPITDBClient</em></a><em>, </em><em>default None</em>) – The connection to the database.  If None, a new connection
will be created based on what’s it the config.</p></li>
<li><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><em>pathlib.Path</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default None</em>) – Path of the image (relative to the base path for all images) of
the image to search for.  Usually if you feed it this, you don’t
want to feed it nay other parameters.</p></li>
<li><p><strong>mjd_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only return images at this mjd or later</p></li>
<li><p><strong>mjd_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only return images at this mjd or earlier.</p></li>
<li><p><strong>ra</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only return images that contain this ra</p></li>
<li><p><strong>dec</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only return images that containe this dec</p></li>
<li><p><strong>ra_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only return images whose nominal central RA/dec are
greater/lesser than the specified limits.</p></li>
<li><p><strong>ra_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only return images whose nominal central RA/dec are
greater/lesser than the specified limits.</p></li>
<li><p><strong>dec_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only return images whose nominal central RA/dec are
greater/lesser than the specified limits.</p></li>
<li><p><strong>dec_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only return images whose nominal central RA/dec are
greater/lesser than the specified limits.</p></li>
<li><p><strong>band</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default None</em>) – Only include images from this band</p></li>
<li><p><strong>exptime_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only include images with at least this exptime in seconds.</p></li>
<li><p><strong>exptime_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – Only include images with at most this exptime in seconds.</p></li>
<li><p><strong>sca</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Only include images from this sca.</p></li>
<li><p><strong>order_by</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><em>list</em></a><em>, </em><em>default None</em>) – By default, the returned images are not sorted in any
particular way.  Put a keyword here to sort by that value
(or by those values).  Options include ‘id’,
‘provenance_id’, ‘pointing’, ‘sca’, ‘ra’, ‘dec’, ‘filepath’,
‘width’, ‘height’, ‘mjd’, ‘exptime’.  Not all of these are
necessarily useful, and some of them may be null for many
objects in the database.</p></li>
<li><p><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default None</em>) – Only return this many objects at most.</p></li>
<li><p><strong>offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>default None</em>) – Useful with limit and order_by ; offset the returned value
by this many entries.  You can make repeated calls to
find_objects to get subsets of objects by passing the same
order_by and limit, but different offsets each time, to
slowly build up a list.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>imagelist</strong> – Really it will be list of objects of a subclass of
snappl.image.Image, but you shouldn’t need to know that.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a> of <a class="reference internal" href="#snappl.image.Image" title="snappl.image.Image">snappl.image.Image</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.fraction_masked">
<span class="sig-name descname"><span class="pre">fraction_masked</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.fraction_masked"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.fraction_masked" title="Link to this definition">¶</a></dt>
<dd><p>Fraction of pixels that are masked.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.free">
<span class="sig-name descname"><span class="pre">free</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.free"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.free" title="Link to this definition">¶</a></dt>
<dd><p>Try to free memory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.get_cutout">
<span class="sig-name descname"><span class="pre">get_cutout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ysize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.get_cutout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.get_cutout" title="Link to this definition">¶</a></dt>
<dd><p>Make a cutout of the image at the given RA and DEC.
This implementation assumes that the image WCS is an AstropyWCS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – x pixel coordinate of the center of the cutout.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – y pixel coordinate of the center of the cutout.</p></li>
<li><p><strong>xsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Width of the cutout in pixels.</p></li>
<li><p><strong>ysize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Height of the cutout in pixels. If None, set to xsize.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'strict'</em>) – “strict” does not allow for partial overlap between the cutout and the original image,
“partial” will fill in non-overlapping pixels with fill_value. This is identical to the
mode parameter of astropy.nddata.Cutout2D.</p></li>
<li><p><strong>fill_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default np.nan</em>) – Fill value for pixels that are outside the original
image when mode=’partial’. This is identical to the fill_value parameter
of astropy.nddata.Cutout2D.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>cutout</strong> – A new snappl image object that is a cutout of the original image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#snappl.image.Image" title="snappl.image.Image">snappl.image.Image</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">always_reload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.get_data" title="Link to this definition">¶</a></dt>
<dd><p>Read the data from disk and return one or more 2d numpy arrays of data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>which</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – <dl class="simple">
<dt>What to read:</dt><dd><p>’data’ : just the image data
‘noise’ : just the noise data
‘flags’ : just the flags data
‘all’ : data, noise, and flags</p>
</dd>
</dl>
</p></li>
<li><p><strong>always_reload</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Whether this is supported depends on the subclass.  If this
is false, then get_data() has the option of returning the
values of self.data, self.noise, and/or self.flags instead
of always loading the data.  If this is True, then
get_data() will ignore the self._data et al. properties.</p></li>
<li><p><strong>cache</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – Normally, get_data() just reads the data and does not do any
internal caching.  If this is True, and the subclass
supports it, then the object will cache the loaded data so
that future calls with always_reload will not need to reread
the data, nor will accessing the data, noise, and flags
properties.</p></li>
</ul>
</dd>
</dl>
<p>The data read not stored in the class, so when the caller goes
out of scope, the data will be freed (unless the caller saved it
somewhere.  This does mean it’s read from disk every time.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a> (length 1 or 3 ) of 2d numpy arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.get_image">
<span class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">get_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbclient</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.get_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.get_image" title="Link to this definition">¶</a></dt>
<dd><p>Get an Image from the database based on its image id.</p>
<section id="parmameters">
<h2>Parmameters<a class="headerlink" href="#parmameters" title="Link to this heading">¶</a></h2>
<blockquote>
<div><dl class="simple">
<dt>image_id<span class="classifier">UUID or str that can be converted to UUID</span></dt><dd><p>The ID of the image to get.</p>
</dd>
<dt>dbclient<span class="classifier">SNPITDBClient, default None</span></dt><dd><p>The connection to the database.  If None, a new connection
will be created based on what’s it the config.</p>
</dd>
</dl>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.get_ra_dec_cutout">
<span class="sig-name descname"><span class="pre">get_ra_dec_cutout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ysize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.get_ra_dec_cutout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.get_ra_dec_cutout" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new snappl image object that is a cutout of the original image, at a location in pixel-space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – RA coordinate of the center of the cutout, in degrees.</p></li>
<li><p><strong>dec</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – DEC coordinate of the center of the cutout, in degrees.</p></li>
<li><p><strong>xsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Width of the cutout in pixels.</p></li>
<li><p><strong>ysize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Height of the cutout in pixels. If None, set to xsize.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default 'strict'</em>) – “strict” does not allow for partial overlap between the cutout and the original image,
“partial” will fill in non-overlapping pixels with fill_value. This is identical to the
mode parameter of astropy.nddata.Cutout2D.</p></li>
<li><p><strong>fill_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default np.nan</em>) – Fill value for pixels that are outside the original
image when mode=’partial’. This is identical to the fill_value parameter
of astropy.nddata.Cutout2D.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>cutout</strong> – A new snappl image object that is a cutout of the original image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#snappl.image.Image" title="snappl.image.Image">snappl.image.Image</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.get_wcs">
<span class="sig-name descname"><span class="pre">get_wcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wcsclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.get_wcs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.get_wcs" title="Link to this definition">¶</a></dt>
<dd><p>Get image WCS.  Will be an object of type BaseWCS (from wcs.py) (really likely a subclass).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>wcsclass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>None</em>) – By default, the subclass of BaseWCS you get back will be
defined by the Image subclass of the object you call this
on.  If you want a specific subclass of BaseWCS, you can put
the name of that class here.  It may not always work; not
all types of images are able to return all types of wcses.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)">object</a> of a subclass of <a class="reference internal" href="snappl.wcs.BaseWCS.html#snappl.wcs.BaseWCS" title="snappl.wcs.BaseWCS">snappl.wcs.BaseWCS</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.includes_radec">
<span class="sig-name descname"><span class="pre">includes_radec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.includes_radec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.includes_radec" title="Link to this definition">¶</a></dt>
<dd><p>Check to see if (ra, dec)  is included within the image borders.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The coordinate in decimal degrees to check.</p></li>
<li><p><strong>dec</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The coordinate in decimal degrees to check.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>True if (<a class="reference internal" href="#snappl.image.Image.ra" title="snappl.image.Image.ra">ra</a>, <a class="reference internal" href="#snappl.image.Image.dec" title="snappl.image.Image.dec">dec</a>) is within the image borders, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.psf_phot">
<span class="sig-name descname"><span class="pre">psf_phot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">init_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forced_phot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(5,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bginner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bgouter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.psf_phot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.psf_phot" title="Link to this definition">¶</a></dt>
<dd><p>Do psf photometry.</p>
<p>Does local background subtraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>init_params</strong> (<em>something</em>) – passed to the init_params of a call to a
photutils.psf.PSFPHotometry object.</p></li>
<li><p><strong>psf</strong> (<a class="reference internal" href="snappl.psf.PSF.html#snappl.psf.PSF" title="snappl.psf.PSF"><em>snappl.psf.PSF</em></a>) – The PSF profile to fit to the image.</p></li>
<li><p><strong>forced_phot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, then the x and y positions are fixed.  If False,
then they will be fit along with the flux.</p></li>
<li><p><strong>fit_shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em> of </em><em>(</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>)</em><em>, </em><em>default</em><em> (</em><em>5</em><em>, </em><em>5</em><em>)</em>) – Shape of the stamp around the positions in which to do the fit.</p></li>
<li><p><strong>bginner</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default 15</em>) – Radius of inner boundry of annulus in which to measure background.</p></li>
<li><p><strong>bouter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default 25</em>) – Radius of outer boundry of annulus in which to measure background.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>TODO</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imagepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noisepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flagspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.save" title="Link to this definition">¶</a></dt>
<dd><p>Save the image to its path(s).</p>
<p>May have side-effects on the internal data structure (e.g. FITS
subclasses modify the internally stored header).</p>
<section id="paramters">
<h2>Paramters<a class="headerlink" href="#paramters" title="Link to this heading">¶</a></h2>
<blockquote>
<div><dl class="simple">
<dt>which<span class="classifier">str, default “all”</span></dt><dd><p>One of ‘data’, ‘noise’, ‘flags’, or ‘all’</p>
</dd>
<dt>imagepath<span class="classifier">str, default None</span></dt><dd><p>Full Path to write the image to.  If not specified, will use use
self.full_filepath.  Does NOT update any of the path properties of
the image.  You can leave this at None, and the path that the
Image figured out when it was constructed will be used.  Usually,
that’s what you should do.</p>
</dd>
<dt>path<span class="classifier">str, default None</span></dt><dd><p>A synonym for imagepath.  Do not use.  Here for backwards
compatibility.</p>
</dd>
<dt>noisepath<span class="classifier">str, default None</span></dt><dd><p>Path to write the noise image to, if the noise image is stored as
a separate image.  (It isn’t always; some subclasses have it as a
separate part of the data structure that also has the image.)  If
None, use an internally stored noisepath.  If that is not set, and
noisepath is None, and this isn’t a subclass that combines all the
data planes into one file, then any noise data array will not be
written.  Usually, you don’t want to have to specify this.</p>
</dd>
<dt>flagspath<span class="classifier">str, default None</span></dt><dd><p>Path to write the flags image to, similar to noisepath.</p>
</dd>
<dt>overwrite<span class="classifier">bool, default False</span></dt><dd><p>Clobber existing images?</p>
</dd>
</dl>
</div></blockquote>
<p>Not implemented for all subclasses.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.image.Image.save_data">
<span class="sig-name descname"><span class="pre">save_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imagepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noisepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flagspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/image.html#Image.save_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.image.Image.save_data" title="Link to this definition">¶</a></dt>
<dd><p>Same as save; here for backwards compatibility.  Use save.</p>
</dd></dl>

</dd></dl>

</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="snappl.imagecollection.ImageCollectionDB.html" title="Previous document">ImageCollectionDB</a>
        </li>
        <li>
          <a href="snappl.image.Numpy2DImage.html" title="Next document">Numpy2DImage</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2025, Roman Supernova PIT.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.0.4</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/api/snappl.image.Image.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>