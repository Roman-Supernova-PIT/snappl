<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SegmentationMap &#8212; roman_snpit_snappl 0.1.dev1+g6baf3a29b documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=5a6b8c39" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=f3bc516d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <script src="../_static/documentation_options.js?v=b4ef4976"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Spectrum1d" href="snappl.spectrum1d.Spectrum1d.html" />
    <link rel="prev" title="OU2024_Truth_SED" href="snappl.sed.OU2024_Truth_SED.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo_black_filled.png" alt="Logo" />
    
  </a>
</p>



<p class="blurb">Software developed by the Roman SNPIT</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../environment.html">Roman SNPIT Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers.html">snappl Developers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainers.html">Environment and Database Maintainer’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">snappl API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database_schema.html">Database Schema</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">snappl API</a><ul>
      <li>Previous: <a href="snappl.sed.OU2024_Truth_SED.html" title="previous chapter">OU2024_Truth_SED</a></li>
      <li>Next: <a href="snappl.spectrum1d.Spectrum1d.html" title="next chapter">Spectrum1d</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="snappl.sed.OU2024_Truth_SED.html" title="Previous document">OU2024_Truth_SED</a>
        </li>
        <li>
          <a href="snappl.spectrum1d.Spectrum1d.html" title="Next document">Spectrum1d</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="segmentationmap">
<h1>SegmentationMap<a class="headerlink" href="#segmentationmap" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="snappl.segmap.SegmentationMap">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">snappl.segmap.</span></span><span class="sig-name descname"><span class="pre">SegmentationMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">provenance_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l2image_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/segmap.html#SegmentationMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.segmap.SegmentationMap" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="snappl.pathedobject.PathedObject.html#snappl.pathedobject.PathedObject" title="snappl.pathedobject.PathedObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">PathedObject</span></code></a></p>
<p>Encapsulate a single segmentation map.</p>
<p>Properties of a SegmentationMap object are:</p>
<ul class="simple">
<li><p>filepath : pathlib.Path ; path <em>relative to the base path</em> of the image file of the segmentation map</p></li>
<li><p>full_filepath : pathlib.Path ; absolute path to file on system.  (Same as base_path / filepath.)</p></li>
<li><p>base_path : base path for images; usually will be Config value system.paths.segmaps</p></li>
<li><p>base_dir : synonym for base_path</p></li>
<li><dl class="simple">
<dt>image<span class="classifier">an Image object that holds the actual segmentation map data.  Get the 2d numpy</span></dt><dd><p>data of segmap s in s.image.data</p>
</dd>
</dl>
</li>
</ul>
<p>Set up object paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>Path</em><em>, </em><em>default None</em>) – Path of the file relative to base_path.  If no_base_path is True
(which should <em>never</em> be the case for an object that is associated
with the database), then this is the full path.</p></li>
<li><p><strong>base_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>Path</em><em>, </em><em>default None</em>) – Only use one of these; they set the same thing.  (Both parameters
are defined for backwards compatibility.)  Most of the time you do
<em>not</em> want to specify this, but leave it at the default.  If
no_base_path is True, you <em>must</em> leave these at None.  This is the
base path for objects of the subclass of PathedObject that is
being constructed.  By default (which is usually what you want),
it will use a path that is configured for the type of object that
the subclass tracks.</p></li>
<li><p><strong>base_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>Path</em><em>, </em><em>default None</em>) – Only use one of these; they set the same thing.  (Both parameters
are defined for backwards compatibility.)  Most of the time you do
<em>not</em> want to specify this, but leave it at the default.  If
no_base_path is True, you <em>must</em> leave these at None.  This is the
base path for objects of the subclass of PathedObject that is
being constructed.  By default (which is usually what you want),
it will use a path that is configured for the type of object that
the subclass tracks.</p></li>
<li><p><strong>full_filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>Path</em><em>, </em><em>default None</em>) – Usually you don’t want to specify this, but there are cases where
you can.</p></li>
<li><p><strong>no_base_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>default False</em>) – You may want to set this to True if you are dealing with
files that aren’t tracked by the database.  In that case,
you can’t specify base_path (or base_dir), and filepath and
full_filepath mean the same thing (and must be the same if
for some reasdon you give both).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Attributes Summary</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.segmap.SegmentationMap.image" title="snappl.segmap.SegmentationMap.image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">image</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.segmap.SegmentationMap.image_format_to_class" title="snappl.segmap.SegmentationMap.image_format_to_class"><code class="xref py py-obj docutils literal notranslate"><span class="pre">image_format_to_class</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.segmap.SegmentationMap.find_segmaps" title="snappl.segmap.SegmentationMap.find_segmaps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_segmaps</span></code></a>([provenance, provenance_tag, ...])</p></td>
<td><p>Find segmentation maps.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#snappl.segmap.SegmentationMap.get_by_id" title="snappl.segmap.SegmentationMap.get_by_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_by_id</span></code></a>(segmap_id[, dbclient])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#snappl.segmap.SegmentationMap.save_to_db" title="snappl.segmap.SegmentationMap.save_to_db"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_to_db</span></code></a>([dbclient])</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.segmap.SegmentationMap.image">
<span class="sig-name descname"><span class="pre">image</span></span><a class="headerlink" href="#snappl.segmap.SegmentationMap.image" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="snappl.segmap.SegmentationMap.image_format_to_class">
<span class="sig-name descname"><span class="pre">image_format_to_class</span></span><span class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{1:</span> <span class="pre">&lt;class</span> <span class="pre">'snappl.image.OpenUniverse2024FITSImage'&gt;,</span> <span class="pre">2:</span> <span class="pre">&lt;class</span> <span class="pre">'snappl.image.FITSImageStdHeaders'&gt;}</span></span><a class="headerlink" href="#snappl.segmap.SegmentationMap.image_format_to_class" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="snappl.segmap.SegmentationMap.find_segmaps">
<span class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">find_segmaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provenance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">provenance_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbclient</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/segmap.html#SegmentationMap.find_segmaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.segmap.SegmentationMap.find_segmaps" title="Link to this definition">¶</a></dt>
<dd><p>Find segmentation maps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>provenance</strong> (<a class="reference internal" href="snappl.provenance.Provenance.html#snappl.provenance.Provenance" title="snappl.provenance.Provenance"><em>Provenance</em></a><em>, </em><em>UUID</em><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default None</em>) – The Provenacne, or the id of the Provenance, to search.
Must specify either this, or both of provenance_tag and
process.</p></li>
<li><p><strong>provenance_tag</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default None</em>) – The provenance tag to search.  Required if provenance is
None.</p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default None</em>) – The process of the provenance_tag to search.  Required if
provenance_tag is given.</p></li>
<li><p><strong>ra</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – If ra and dec are given, will find all segmentation maps
that include this point.</p></li>
<li><p><strong>dec</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – If ra and dec are given, will find all segmentation maps
that include this point.</p></li>
<li><p><strong>ra_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – <p>If any of these are given, will limit images to things that
fall within the relevant range.  It probably doesn’t make
sense to include any of these alongside (ra, dec).</p>
<p>NOTE: this refers the the centra ra of the segmentation map;
it does not consider the corners.  If you really want to be
anal, you could include 16 parameters, ra_corner_00_min,
ra_corner_00_max, etc.  Be aware, however, that corner_00
refers to the lower-left of the image (i.e. pixel 0,0),
which depending on rotation will <em>not</em> be an extremum of ra
and dec.</p>
<p>WARNING : ra ranges crossing 0 are not yet properly
implemented.</p>
</p></li>
<li><p><strong>ra_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – <p>If any of these are given, will limit images to things that
fall within the relevant range.  It probably doesn’t make
sense to include any of these alongside (ra, dec).</p>
<p>NOTE: this refers the the centra ra of the segmentation map;
it does not consider the corners.  If you really want to be
anal, you could include 16 parameters, ra_corner_00_min,
ra_corner_00_max, etc.  Be aware, however, that corner_00
refers to the lower-left of the image (i.e. pixel 0,0),
which depending on rotation will <em>not</em> be an extremum of ra
and dec.</p>
<p>WARNING : ra ranges crossing 0 are not yet properly
implemented.</p>
</p></li>
<li><p><strong>dec_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – <p>If any of these are given, will limit images to things that
fall within the relevant range.  It probably doesn’t make
sense to include any of these alongside (ra, dec).</p>
<p>NOTE: this refers the the centra ra of the segmentation map;
it does not consider the corners.  If you really want to be
anal, you could include 16 parameters, ra_corner_00_min,
ra_corner_00_max, etc.  Be aware, however, that corner_00
refers to the lower-left of the image (i.e. pixel 0,0),
which depending on rotation will <em>not</em> be an extremum of ra
and dec.</p>
<p>WARNING : ra ranges crossing 0 are not yet properly
implemented.</p>
</p></li>
<li><p><strong>dec_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>default None</em>) – <p>If any of these are given, will limit images to things that
fall within the relevant range.  It probably doesn’t make
sense to include any of these alongside (ra, dec).</p>
<p>NOTE: this refers the the centra ra of the segmentation map;
it does not consider the corners.  If you really want to be
anal, you could include 16 parameters, ra_corner_00_min,
ra_corner_00_max, etc.  Be aware, however, that corner_00
refers to the lower-left of the image (i.e. pixel 0,0),
which depending on rotation will <em>not</em> be an extremum of ra
and dec.</p>
<p>WARNING : ra ranges crossing 0 are not yet properly
implemented.</p>
</p></li>
<li><p><strong>band</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>default None</em>) – If given, only include segmentation maps that go with this band.</p></li>
<li><p><strong>l2image_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em> or </em><em>UUID</em><em>, </em><em>default None</em>) – If given, only find segmentation maps that go with this image.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a> of <a class="reference internal" href="#snappl.segmap.SegmentationMap" title="snappl.segmap.SegmentationMap">SegmentationMap</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.segmap.SegmentationMap.get_by_id">
<span class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">get_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segmap_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbclient</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/segmap.html#SegmentationMap.get_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.segmap.SegmentationMap.get_by_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="snappl.segmap.SegmentationMap.save_to_db">
<span class="sig-name descname"><span class="pre">save_to_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbclient</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/snappl/segmap.html#SegmentationMap.save_to_db"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#snappl.segmap.SegmentationMap.save_to_db" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="snappl.sed.OU2024_Truth_SED.html" title="Previous document">OU2024_Truth_SED</a>
        </li>
        <li>
          <a href="snappl.spectrum1d.Spectrum1d.html" title="Next document">Spectrum1d</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2026, Roman Supernova PIT.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.1.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/api/snappl.segmap.SegmentationMap.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>